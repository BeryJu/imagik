---
secretKey: "${IMAGIK_SECRET}"
listen: 0.0.0.0:8000
logFormat: json

authDriver: "${IMAGIK_AUTH_DRIVER}" # or null for no authentication or oidc
authStaticConfig:
  tokens:
    # Key is the username
    # Value is password hash generated by ./imagik hash-password
    "${IMAGIK_USER}": "${IMAGIK_PASSWORD}"
authOIDCConfig:
  url: "${IMAGIK_OIDC_URL}"
  clientID: "${IMAGIK_OIDC_ID}"
  clientSecret: "${IMAGIK_OIDC_SECRET}"
  redirect: "${IMAGIK_OIDC_REDIRECT}"
  provider: "${IMAGIK_OIDC_PROVIDER}"

storageDriver: "${IMAGIK_STORAGE_DRIVER}"
storageLocalConfig:
  root: "${IMAGIK_ROOT}"
storageS3Config:
  bucket: "${IMAGIK_BUCKET}"
  accessKey: "${AWS_ACCESS_KEY_ID}"
  secretKey: "${AWS_SECRET_ACCESS_KEY}"
  region: "${AWS_DEFAULT_REGION}"
  endpoint: "${AWS_ENDPOINT}"
  usePresign: false
